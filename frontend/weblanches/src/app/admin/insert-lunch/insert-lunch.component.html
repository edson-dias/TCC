<h1>Novo Lanche</h1>
<div class="well">
    <form #formLunch="ngForm">
	<div class="form-group">
	    <label for="name">Nome:</label>
	    <input type="text" class="form-control" id="name" name="name"
		   minlength="2" [(ngModel)]="lunch.name" #name="ngModel" required>
	    <div *ngIf="name.errors && (name.dirty || name.touched)" class="alert alert-danger">
			<div [hidden]="!name.errors.required"> Digite o nome do lanche. </div>
			<div [hidden]="!name.errors.minlength"> O nome deve conter ao menos 2 caracteres. </div>
	    </div>
	</div>
	<div class="form-group">
		<ng-select name="ingredients" [items]="ingredients"
			bindLabel="name"
			[(ngModel)]="lunch.ingredients"
			[multiple]="true"
			placeholder="Selecione os ingredientes">
		</ng-select>

		<label for="value">Preço:</label>
	    <input type="text" class="form-control" id="value" name="value" [(ngModel)]="lunch.value" #value="ngModel" required>
	    <div *ngIf="value.errors && (value.dirty || value.touched)" class="alert alert-danger">
			<div [hidden]="!value.errors.required"> Digite um valor válido. </div>
	    </div>

        <label for="image">Imagem:</label>
	    <input type="text" class="form-control" id="image" name="image" [(ngModel)]="lunch.image" #image="ngModel" required>
	    <div *ngIf="image.errors && (image.dirty || image.touched)" class="alert alert-danger">
			<div [hidden]="!image.errors.required"> Digite um caminho válido. </div>
	    </div>
        
        <label for="veggie">Veggie:</label>
	    <input type="checkbox" class="form-control" id="veggie" name="veggie" [(ngModel)]="lunch.veggie" #veggie="ngModel">
	    
	    <button type="button" class="btn btn-primary" (click)="insert()" [disabled]="!formLunch.form.valid">
		<i class="fa fa-save" aria-hidden="true"></i> Salvar
	    </button>
		<a class="btn btn-secondary" [routerLink]="['/admin/lanches/listar']">
			<i class="fa fa-arrow-left" aria-hidden="true"></i> Voltar
		</a>

	</div>
    </form>
</div>
